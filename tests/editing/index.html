<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
	body{
		display:flex;
		flex-direction: column;
		margin:0;
	}
	.toolbar{
		height: 50px;
		border-bottom: 1px solid #EEE;
	}
	.content{
		flex: auto;
		outline: none;
		background: #fbfbfb;
	}
	.tools {
		position: fixed;
		display:flex;
		bottom:0;
	}
	
	.link.active{
		background-color: #eee;
	}
</style>
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script>

function getCaretCharacterOffsetWithin(element) {
    var caretOffset = 0;
    var doc = element.ownerDocument || element.document;
    var win = doc.defaultView || doc.parentWindow;
    var sel;
    if (typeof win.getSelection != "undefined") {
        sel = win.getSelection();
        if (sel.rangeCount > 0) {
            var range = win.getSelection().getRangeAt(0);
            var preCaretRange = range.cloneRange();
            preCaretRange.selectNodeContents(element);
            preCaretRange.setEnd(range.endContainer, range.endOffset);
            caretOffset = preCaretRange.toString().length;
        }
    } else if ( (sel = doc.selection) && sel.type != "Control") {
        var textRange = sel.createRange();
        var preCaretTextRange = doc.body.createTextRange();
        preCaretTextRange.moveToElementText(element);
        preCaretTextRange.setEndPoint("EndToEnd", textRange);
        caretOffset = preCaretTextRange.text.length;
    }
    return caretOffset;
}
	
function caretIn(element){
	var result = false;
	var pos= getCaretCharacterOffsetWithin(element);
	result = pos>0 && pos<= $(element).text().length;
	return result;
}

function checkLinks(){
	$(".link").each(function(i,e){
		if(caretIn(this)){
			$(this).addClass("active");
			//console.debug(this);
		}else{
			$(this).removeClass("active");
		}
	});
}
	
	
$(document).keyup(checkLinks);
$(document).click(checkLinks);
$(document).on('mouseup', checkLinks);
$(document).on('selectstart',checkLinks);

</script>
</head>
<body>
<section class="toolbar">
Toolbar
</section>
<section contenteditable="true" class="content">
	Article <span class="link">content</span> you can edit
</section>
<section class="tools"> Tools </section>
</body>
</html>